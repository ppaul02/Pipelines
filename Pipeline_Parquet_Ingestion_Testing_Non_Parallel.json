{"id": "/subscriptions/0e40d638-6ee2-42fa-83d5-78641df4b3cb/resourceGroups/DataQualityPOC/providers/Microsoft.Synapse/workspaces/synapse-etl-poc/pipelines/Pipeline_Parquet_Ingestion_Testing_Non_Parallel", "name": "Pipeline_Parquet_Ingestion_Testing_Non_Parallel", "type": "Microsoft.Synapse/workspaces/pipelines", "etag": "3a06e2c5-0000-0100-0000-62963ed40000", "activities": [{"name": "SourceRawDataIngestion", "type": "Copy", "depends_on": [], "user_properties": [], "policy": {"timeout": "7.00:00:00", "retry": 0, "retry_interval_in_seconds": 30, "secure_input": false, "secure_output": false}, "inputs": [{"type": "DatasetReference", "reference_name": "Parquet_source_Dataset_dataQualityPoC", "parameters": {"source_container_name": {"value": "@pipeline().parameters.source_container_name", "type": "Expression"}, "source_path": {"value": "@pipeline().parameters.source_relative_path", "type": "Expression"}, "source_object_name": {"value": "@pipeline().parameters.source_object_name", "type": "Expression"}}}], "outputs": [{"type": "DatasetReference", "reference_name": "Raw_ADLS_Dataset_dataQualityPoc", "parameters": {"object_name": {"value": "@pipeline().parameters.target_object_name", "type": "Expression"}, "container_name": {"value": "@pipeline().parameters.target_container_name", "type": "Expression"}, "relative_path": {"value": "@pipeline().parameters.target_relative_path", "type": "Expression"}}}], "source": {"storeSettings": {"type": "AzureBlobFSReadSettings", "recursive": true, "wildcardFolderPath": {"value": "@pipeline().parameters.source_relative_path", "type": "Expression"}, "wildcardFileName": "*.parquet", "enablePartitionDiscovery": false}, "type": "CopySource"}, "sink": {"formatSettings": {"type": "DelimitedTextWriteSettings", "quoteAllText": true, "fileExtension": ".txt"}, "storeSettings": {"type": "AzureBlobFSWriteSettings"}, "type": "CopySink"}, "translator": {"type": "TabularTranslator", "typeConversion": true, "typeConversionSettings": {"allowDataTruncation": true, "treatBooleanAsNumber": false}}, "enable_staging": false}, {"typeProperties": {"notebook": {"referenceName": "ETL_Ingestion_Testing_Notebook_Non_Parallel", "type": "NotebookReference"}, "parameters": {"source_object_name": {"value": {"value": "@pipeline().parameters.source_object_name", "type": "Expression"}, "type": "string"}, "target_object_name": {"value": {"value": "@pipeline().parameters.target_object_name", "type": "Expression"}, "type": "string"}, "object_type": {"value": {"value": "@pipeline().parameters.object_type", "type": "Expression"}, "type": "string"}, "target_container_name": {"value": {"value": "@pipeline().parameters.target_container_name", "type": "Expression"}, "type": "string"}, "source_container_name": {"value": {"value": "@pipeline().parameters.source_container_name", "type": "Expression"}, "type": "string"}, "target_relative_path": {"value": {"value": "@pipeline().parameters.target_relative_path", "type": "Expression"}, "type": "string"}, "source_relative_path": {"value": {"value": "@pipeline().parameters.source_relative_path", "type": "Expression"}, "type": "string"}, "sqlservername": {"value": {"value": "@pipeline().parameters.sqlservername", "type": "Expression"}, "type": "string"}, "sqldbusername": {"value": {"value": "@pipeline().parameters.sqldbusername", "type": "Expression"}, "type": "string"}, "jdbcDatabase": {"value": {"value": "@pipeline().parameters.jdbcDatabase", "type": "Expression"}, "type": "string"}, "password": {"value": {"value": "@pipeline().parameters.password", "type": "Expression"}, "type": "string"}, "Run_Environment": {"value": {"value": "@pipeline().parameters.Run_Environment", "type": "Expression"}, "type": "string"}, "Test_Tag": {"value": {"value": "@pipeline().parameters.Test_Tag", "type": "Expression"}, "type": "string"}}, "snapshot": true, "sparkPool": {"referenceName": "apachesparkpool", "type": "BigDataPoolReference"}}, "policy": {"timeout": "7.00:00:00", "retry": 0, "retryIntervalInSeconds": 30, "secureOutput": false, "secureInput": false}, "name": "Ingestion_Check", "type": "Activity", "depends_on": [{"activity": "SourceRawDataIngestion", "dependency_conditions": ["Succeeded"]}], "user_properties": []}, {"name": "GetRawCheckStatus", "type": "SetVariable", "depends_on": [{"activity": "Ingestion_Check", "dependency_conditions": ["Completed"]}], "user_properties": [], "variable_name": "v_raw_check_status", "value": {"value": "@activity('Ingestion_Check').output.status.Output.result.exitValue", "type": "Expression"}}, {"name": "NextStepCondition", "type": "IfCondition", "depends_on": [{"activity": "GetRawCheckStatus", "dependency_conditions": ["Completed"]}], "user_properties": [], "expression": {"type": "Expression", "value": "@equals(variables('v_raw_check_status'),'1')"}, "if_true_activities": [{"name": "Pipeline_CSV_Transformation", "type": "ExecutePipeline", "depends_on": [], "user_properties": [], "pipeline": {"type": "PipelineReference", "reference_name": "Pipeline_CSV_Transformation_Testing_Non_Parallel"}, "parameters": {"sourcetableschema": "srcsqldbschema", "objectname": "global_superstore", "target_object_name": {"value": "@pipeline().parameters.target_object_name", "type": "Expression"}, "target_container_name": {"value": "@pipeline().parameters.target_container_name", "type": "Expression"}, "target_relative_path": {"value": "@pipeline().parameters.target_relative_path", "type": "Expression"}, "object_type": {"value": "@pipeline().parameters.object_type", "type": "Expression"}, "sqlservername": {"value": "@pipeline().parameters.sqlservername", "type": "Expression"}, "sqldbusername": {"value": "@pipeline().parameters.sqldbusername", "type": "Expression"}, "jdbcDatabase": {"value": "@pipeline().parameters.jdbcDatabase", "type": "Expression"}, "password": {"value": "@pipeline().parameters.password", "type": "Expression"}, "Test_Tag": {"value": "@pipeline().parameters.Test_Tag", "type": "Expression"}, "Run_Environment": {"value": "@pipeline().parameters.Run_Environment", "type": "Expression"}}, "wait_on_completion": true}], "if_false_activities": [{"name": "Alert for Failed Ingestion", "type": "ExecutePipeline", "depends_on": [], "user_properties": [], "pipeline": {"type": "PipelineReference", "reference_name": "Email_Alert"}, "parameters": {"PipelineName": {"value": "@pipeline().Pipeline", "type": "Expression"}, "Subject": "Data Ingestion Failed", "EmailTo": "spandan.pal@pwc.com", "Message": "Data Ingestion Failed"}, "wait_on_completion": true}]}], "parameters": {"target_object_name": {"type": "string", "default_value": "global_superstore_parquet"}, "source_object_name": {"type": "string", "default_value": "Global_Superstore_Parquet"}, "object_type": {"type": "string", "default_value": "parquet"}, "target_container_name": {"type": "string", "default_value": "etlstoragepocfilesystem"}, "source_container_name": {"type": "string", "default_value": "etlstoragepocfilesystem"}, "target_relative_path": {"type": "string", "default_value": "csv"}, "source_relative_path": {"type": "string", "default_value": "parquet"}, "sqlservername": {"type": "string"}, "sqldbusername": {"type": "string"}, "jdbcDatabase": {"type": "string"}, "password": {"type": "string"}, "Run_Environment": {"type": "string"}, "Test_Tag": {"type": "string"}}, "variables": {"v_raw_check_status": {"type": "String"}}, "annotations": [], "folder": {"name": "Testing_PoC./DNU"}}